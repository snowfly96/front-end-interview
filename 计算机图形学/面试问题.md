### :pen: 基础问题

+ [x] 一个三角形渲染的例子

  > 1. 顶点缓冲对象将缓冲数据传输给顶点着色器
  > 2. 顶点着色器利用MVP矩阵对顶点数据进行坐标变换和顶点着色
  > 3. 在图元装配阶段将顶点着色器的输出数据装配成指定形状
  > 4. 在几何着色器阶段，对视锥内的图元进行再次剪裁，并将当前坐标映射到屏幕坐标
  > 5. 进入光栅化阶段，确定被三角形覆盖的像素点，并进行差值计算
  > 6. 再进入片段着色器，执行光照计算和着色
  > 7. 最后执行混合测试，包括alpah测试、深度测试、模版测试等

+ [x] 几何计算

  > 1. 矩阵计算
  > 2. 视锥体内判断
  > 3. 光线与三角形相交判断
  > 4. 齐次坐标
  > 5. 法线计算

#### 图形管道渲染

1. 应用阶段

   > 该阶段发生在CPU中，决定下一步将给GPU传入什么样的数据
   >
   > 作用：识别出可视的网格模型，并将他们的渲染状态信息（材质、纹理、着色器等）提交给GPU
   >
   > 1. 可见行判断（碰撞检测、输入检测、剔除-空间八叉树）
   > 2. 控制着色参数和渲染状态
   > 3. 提交图元给GPU进行渲染

2. 几何处理阶段

   > 多边形和顶点操作，将三维变成二维数据
   >
   > 1. 顶点着色
   > 2. 投影变换
   > 3. 剪裁和屏幕映射

   + [x] 顶点着色器

     > 进行坐标变换和着色

   + [x] 图元装配器

     > 将顶点着色器的输出作为输入
     > 将所有点装配成图元的形状（三角形/四边形）

   + [x] 几何着色阶段

     > 图元装配的输出传递给几何着色器，构造新的图元/生产新的三角形或者四边形等
     >
     > 1. 会再次进行剪裁，**应用阶段**的剪裁在于利用视锥体进行对象层面的剪裁，对对象的包围盒做剔除；本次剪裁是在三角形层面做剪裁，剪掉不在像素屏幕内的图元
     > 2. 将之前步骤得到的坐标映射到对应的屏幕坐标上

3. 光栅化阶段

   > 图元离散化成片段/分割成像素

   + [x] 光栅化阶段

     > 将图元切割映射成为屏幕上的像素点，剪裁将视图之外的所有像素丢弃掉，需要遍历所有的图元（三角形）

   + [x] 片段着色器

     > 执行光照计算，计算每个像素的最终颜色

4. 像素处理阶段

   > 给每个像素进行正确配色

   + [x] 混合测试阶段

     > alpha测试和混合测试阶段
     >
     > 1. 判断fragment的透明度
     > 2. 根据片段的深度z-buffer算法，计算fragment相对于屏幕的前后位置

#### 变换

+ [x] 变换原理

  > 利用齐次坐标构建出变换矩阵（MVP矩阵）

+ [x] 系统坐标

  > - 局部空间(Local Space，或者称为物体空间(Object Space))
  > - 世界空间(World Space)
  > - 观察空间(View Space，或者称为视觉空间(Eye Space))
  > - 裁剪空间(Clip Space)
  > - 屏幕空间(Screen Space)

#### 光照模型

+ [x] Lambert 漫反射模型

  > 光源照射到物体表面之后向四面八方反射，产生漫反射效果

+ [x] Gounrand 光照模型

  > 利用漫反射模型计算多边形顶点光亮度，再采用增量法差值计算

+ [x] Phong 光照模型

  > 漫反射+环境光+镜面光

+ [x] Blin-Phong 光照模型

  > 解决phong模型在观察方向和反射方向大于90度情况下出现高光不连续的情况，半角向量

+ [x] 光线追踪

  > 从视点成像面上的像素点发射光线，找到与该光线相交的最近物体的交点，如果该出的表面是散射面，直接计算光源照射该点产生的颜色；如果该点是镜面或者折射面，则继续向反射或者

+ [x] 路径追踪

  > 从视点发出一条光线，光线与物体表面相交时根据表面的材质属性继续采样一个方向（随机的-考虑漫反射）

+ [x] 光子映射/辐射度

  > 基于热力学和光学的更加精细计算

#### 阴影

+ [x] 光照贴图

  > 漫反射*贴图* (Diffuse Map)，它是一个表现了物体所有的漫反射颜色的纹理图像

+ [x] 阴影贴图

  > 1. 以光源的视角观察，得到深度图纹理；
  > 2. 常规的摄像机视角观察，通过对比深度图的深度值，判断是否处在阴影中
  > 3. 将光源看成有形状的，分为软阴影和硬阴影

#### 反锯齿

> 光栅化阶段，以像素中心点是否被三角形覆盖来决定是否生成fragment，有些片段覆盖了采样点就生成，有些没有覆盖就不生成，最终导致了锯齿现象

+ [x] 超采样抗锯齿

  > 把当前分辨率成倍提高，然后把图片缩小放到显示器上
  >
  > 即先映射到高分辨率缓存中放大，然后对每个图像像素进行采样，一般取临近2-4个像素，采样混合后，生成最终的像素再缩小还原为原来图像一样的大小

+ [x] 多重采样抗锯齿

  > 在光栅化阶段，判断三角形是否被像素覆盖时，会计算多个采样点，然后计算一个覆盖率

#### 纹理贴图

+ [x] 纹理环绕

  > 纹理环绕：纹理坐标的范围通常是从(0, 0)到(1, 1)

+ [x] 纹理过滤

  > 纹理过滤：根据物理距离相机远近，选择不同大小分辨率的贴图

+ [x] mipmap 贴图

  > 也叫做多级渐远纹理，电脑存储不同分辨率的纹理图

+ [x] 法线贴图

  > 捕捉光线，可以构造出凹凸不平的感觉，还原真实感

#### 辐射度学

> 辐射能：表示光穿过一个平面的光能
> 辐射通量：表示单位时间内光穿过一个截面的光能

+ [x] 双向反射分布函数

  > 描述物体表面如何反射光线的方程

+ [x] 渲染方程

  > 描述光能在你场景中流转的方程：
  > 出射光的亮度=反射光的亮度+自发光亮度

+ [x] 基于物理的渲染

  > 使用物理的原理和微平面理论创建的着色/光照模型，即漫反射与镜面反射求和

